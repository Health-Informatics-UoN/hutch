import { Callout, Tabs, Table, Td, Th, Tr, Code } from "nextra/components";
import { DotnetVersion } from "../../components/magic-numbers";

# Overview

Relay provides a CLI to help manage its local state and configuration.

<Callout>
  It's recommended to use the same version of Relay when using the CLI to manage
  data for a running instance.
</Callout>

## Running the Relay CLI

You can run the CLI - instead of the main Relay application - by providing any commands to it on the command line.

Here are some examples for running the CLI via different methods:

<Tabs items={["Docker", ".NET", "Native", "From Source" ]}>
  <Tabs.Tab>
    When using `docker run`:
    - put any arguments to `docker run` before the image, in place of `[DOCKER_ARGS]`
    - put the Relay CLI commands and arguments after the image, at the end

    ```bash /[DOCKER_ARGS]/ /--help/ copy
    docker run \
    [DOCKER_ARGS] \
    ghcr.io/health-informatics-uon/hutch/relay:<TAG> \
    --help
    ```

    <Callout>
      Use Docker's `-e` or `--env-file` options to [configure](/relay/config) the app, e.g. to
      provide a database connection string.
    </Callout>

  </Tabs.Tab>
  
  <Tabs.Tab>
    ```bash
    dotnet Hutch.Relay.dll --help
    ```
  </Tabs.Tab>

  <Tabs.Tab>
    <Tabs items={["Windows", "Linux / macOS"]}>
      <Tabs.Tab>
      ```bash
      Hutch.Relay.exe --help
      ```
      
      </Tabs.Tab>
      <Tabs.Tab>
      ```bash
      ./Hutch.Relay --help
      ```
      
      </Tabs.Tab>
    </Tabs>
  </Tabs.Tab>

  <Tabs.Tab>
    Running from source requires the .NET <Code><DotnetVersion /></Code> SDK.

    ```bash
    dotnet run [DOTNET_ARGS] -- --help
    ```

    <Callout>
      Use `--` to separate `dotnet` CLI arguments from Relay CLI arguments
    </Callout>

  </Tabs.Tab>
</Tabs>

## Commands

The CLI outlines grouped areas of commands, as noted below. They have their own reference documentation.

- [users](/relay/cli/users) : Actions for managing Users and their Sub Nodes

## Global Options

`//TODO: When implemented // -c | --connection-string <CONNECTION-STRING>`